{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andre/chatfront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andre/chatfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andre/chatfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import AWS from'aws-sdk';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AWS_ACCESS_KEY='AKIAR22DSRP6A3INZCOZ';var AWS_SECRET_KEY='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';var TextToSpeech=function TextToSpeech(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputText=_useState2[0],setInputText=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),audioUrl=_useState6[0],setAudioUrl=_useState6[1];var handleInputChange=function handleInputChange(e){setInputText(e.target.value);};var handleTextToSpeech=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var polly,response,blob,url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// Reset the audio URL to clear the previous audio\nsetAudioUrl('');// Initialize Polly client\nAWS.config.update({accessKeyId:AWS_ACCESS_KEY,secretAccessKey:AWS_SECRET_KEY,region:'eu-west-1'// AWS Polly region\n});polly=new AWS.Polly();// Synthesize speech\n_context.next=6;return polly.synthesizeSpeech({Text:inputText,OutputFormat:'mp3',VoiceId:'Matthew'}).promise();case 6:response=_context.sent;// Create a Blob object from the audio stream\nblob=new Blob([response.AudioStream],{type:'audio/mpeg'});url=URL.createObjectURL(blob);// Set the audio URL to play it in the <audio> element\nsetAudioUrl(url);setMessage('Audio synthesis complete.');_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);if(_context.t0.code==='NoCredentialsError'){setMessage('AWS credentials not found. Make sure to configure your AWS credentials.');}else{setMessage(\"An error occurred: \".concat(_context.t0.message));}case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function handleTextToSpeech(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Text to Speech Conversion\"}),/*#__PURE__*/_jsx(\"textarea\",{value:inputText,onChange:handleInputChange,placeholder:\"Enter text to convert to speech\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTextToSpeech,children:\"Convert to Speech\"}),/*#__PURE__*/_jsx(\"p\",{children:message}),audioUrl&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Audio Output\"}),/*#__PURE__*/_jsxs(\"audio\",{controls:true,children:[/*#__PURE__*/_jsx(\"source\",{src:audioUrl,type:\"audio/mpeg\"}),\"Your browser does not support the audio element.\"]})]})]});};export default TextToSpeech;","map":{"version":3,"names":["React","useState","AWS","jsx","_jsx","jsxs","_jsxs","AWS_ACCESS_KEY","AWS_SECRET_KEY","TextToSpeech","_useState","_useState2","_slicedToArray","inputText","setInputText","_useState3","_useState4","message","setMessage","_useState5","_useState6","audioUrl","setAudioUrl","handleInputChange","e","target","value","handleTextToSpeech","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","polly","response","blob","url","wrap","_callee$","_context","prev","next","config","update","accessKeyId","secretAccessKey","region","Polly","synthesizeSpeech","Text","OutputFormat","VoiceId","promise","sent","Blob","AudioStream","type","URL","createObjectURL","t0","code","concat","stop","apply","arguments","children","onChange","placeholder","onClick","controls","src"],"sources":["/Users/andre/chatfront/src/TextToSpeech.js"],"sourcesContent":["import React, { useState } from 'react';\nimport AWS from 'aws-sdk';\n\nconst AWS_ACCESS_KEY = 'AKIAR22DSRP6A3INZCOZ';\nconst AWS_SECRET_KEY = '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';\n\nconst TextToSpeech = () => {\n  const [inputText, setInputText] = useState('');\n  const [message, setMessage] = useState('');\n  const [audioUrl, setAudioUrl] = useState('');\n\n  const handleInputChange = (e) => {\n    setInputText(e.target.value);\n  };\n\n  const handleTextToSpeech = async () => {\n    try {\n      // Reset the audio URL to clear the previous audio\n      setAudioUrl('');\n\n      // Initialize Polly client\n      AWS.config.update({\n        accessKeyId: AWS_ACCESS_KEY,\n        secretAccessKey: AWS_SECRET_KEY,\n        region: 'eu-west-1', // AWS Polly region\n      });\n\n      const polly = new AWS.Polly();\n\n      // Synthesize speech\n      const response = await polly.synthesizeSpeech({\n        Text: inputText,\n        OutputFormat: 'mp3',\n        VoiceId: 'Matthew',\n      }).promise();\n\n      // Create a Blob object from the audio stream\n      const blob = new Blob([response.AudioStream], { type: 'audio/mpeg' });\n      const url = URL.createObjectURL(blob);\n\n      // Set the audio URL to play it in the <audio> element\n      setAudioUrl(url);\n\n      setMessage('Audio synthesis complete.');\n    } catch (error) {\n      if (error.code === 'NoCredentialsError') {\n        setMessage('AWS credentials not found. Make sure to configure your AWS credentials.');\n      } else {\n        setMessage(`An error occurred: ${error.message}`);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <h1>Text to Speech Conversion</h1>\n      <textarea\n        value={inputText}\n        onChange={handleInputChange}\n        placeholder=\"Enter text to convert to speech\"\n      />\n      <button onClick={handleTextToSpeech}>Convert to Speech</button>\n      <p>{message}</p>\n      {audioUrl && (\n        <div>\n          <h2>Audio Output</h2>\n          <audio controls>\n            <source src={audioUrl} type=\"audio/mpeg\" />\n            Your browser does not support the audio element.\n          </audio>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TextToSpeech;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}